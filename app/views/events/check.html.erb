<p id="notice"><%= notice %></p>

<table>
  <tr>
    <td>
      <strong>Name:</strong>
        <%= @event.name %>
    </td>
    <td>
      <strong>Year:</strong>
        <%= @event.year %>
    </td>
    <td>
      <strong>Term:</strong>
        <%= @event.term %>
    </td>
    <td>
      <strong>Date:</strong>
        <%= @event.date %>
    </td>
    <td>
      <strong>Location:</strong>
        <%= @event.location %>
    </td>
    <td>
      <strong>Time:</strong>
        <%= @event.time %>
    </td>
  </tr>
</table>

<br> </br>

<div class="form-inputs">
    Swipe: <input type="text" id="card">

<br> </br>
<table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Year</th>
        <th>Term</th>
        <th>Date</th>
        <th>Location</th>
        <th>Time</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @checkins.each do |checkin| %>
        <tr>
          <td><%= checkin.name %></td>
          <td><%= checkin.year %></td>
          <td><%= checkin.term %></td>
          <td><%= checkin.date %></td>
          <td><%= checkin.location %></td>
          <td><%= checkin.time %></td>
          <td><%= link_to 'Show', checkin %></td>
          <% if user_signed_in? %>
          <td><%= link_to 'Edit', edit_checkin_path(checkin) %></td>
          <td><%= link_to 'Destroy', checkin, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

<%= link_to 'Back', events_path %>

<% content_for :head do %>
  <script type="text/javascript">
  $(function() {
    var oldVal;

    $("#card").focus();

    var checkLength = function (val) {
      if (val.length >= 20) {
        alert('Submit!');
      }
    }

    $('#card').bind('DOMAttrModified textInput input change keypress paste focus', function () {
      var val = this.value;
      if (val !== oldVal) {
        oldVal = val;
        checkLength(val);
      }
    });
  });
  </script>
<% end %>